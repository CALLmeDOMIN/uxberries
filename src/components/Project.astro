---
import { Image } from "astro:assets";
import { type Projekt } from "../utils/types";
import Tag from "./Tag.astro";
import Author from "./Author.astro";

interface Props extends Projekt {}

const { image, tags, title, redirect, authors } = Astro.props;
---

<div class="flex flex-col">
  <div class="flex flex-col md:flex-row md:gap-12">
    {
      image && (
        <>
          <Image
            src={`/projects/${image}.webp`}
            alt={image}
            width={4504}
            height={2092}
            sizes="(max-width: 768px) 90vw, 700px"
            class="mb-6 h-[200px] w-full rounded-[10px] object-cover md:mb-12 md:h-[325px] md:min-w-[50%] md:rounded-[20px]"
          />
        </>
      )
    }
    <div class="w-full md:flex md:flex-col">
      <div class="mb-6 flex gap-x-4">
        {tags.map((tag) => <Tag type={tag} />)}
      </div>
      {
        !authors && (
          <div class="w-full">
            <div class="w-full items-center justify-between md:flex">
              <a href={redirect} class="mb-6 text-[26px] font-medium leading-8">
                {title}
              </a>
            </div>
            <div class="mb-4 w-full" />
          </div>
        )
      }
      {
        authors && (
          <>
            <a href={redirect} class="mb-6 text-[26px] font-medium leading-8">
              {title}{" "}
              <Image
                src="/arrow-right-up.svg"
                alt="arrow"
                width="24"
                height="24"
                class="-mt-1 inline-block h-6 w-6 align-middle"
              />
            </a>
            <h1 class="mb-4">Autorzy:</h1>
            <div class="relative mb-10 flex h-16">
              {authors.map((author, i) => (
                <Author name={author} element={i} />
              ))}
            </div>
          </>
        )
      }
    </div>
  </div>
  <div class="mb-10 h-[2px] w-full bg-inblock md:mb-12"></div>
</div>
